{"code":"import * as alt from 'alt';\r\nimport * as game from 'natives';\r\nimport { vehicleConfig } from 'client/modules/Configs/VehicleConfig';\r\nimport { Calculation } from '../Utilities/Calculation';\r\nexport default async () => {\r\n    alt.setInterval(() => {\r\n        const player = alt.Player.local.scriptID;\r\n        const vehicle = alt.Player.local.vehicle;\r\n        if (vehicle === null || vehicle === undefined)\r\n            return;\r\n        if (game.getEntityHealth(vehicle.scriptID) > vehicleConfig.damage.undamaged)\r\n            return;\r\n        if (!game.getIsVehicleEngineRunning(vehicle.scriptID))\r\n            return;\r\n        if (game.getEntityHealth(vehicle.scriptID) <= vehicleConfig.damage.highDevasted) {\r\n            const engineOnProbability = Calculation.probability(vehicleConfig.vehicleDamageTurnOff.percent.highDevasted);\r\n            if (!engineOnProbability)\r\n                return;\r\n            game.setVehicleEngineOn(vehicle.scriptID, false, true, true);\r\n            return alt.emit('notify:warning', 'Silnik zgasł', 'Twój silnik jest uszkodzony, udaj się do mechanika');\r\n        }\r\n        if (game.getEntityHealth(vehicle.scriptID) <= vehicleConfig.damage.mediumDevasted) {\r\n            const engineOnProbability = Calculation.probability(vehicleConfig.vehicleDamageTurnOff.percent.mediumDevasted);\r\n            if (!engineOnProbability)\r\n                return;\r\n            game.setVehicleEngineOn(vehicle.scriptID, false, true, true);\r\n            return alt.emit('notify:warning', 'Silnik zgasł', 'Twój silnik jest uszkodzony, udaj się do mechanika');\r\n        }\r\n        if (game.getEntityHealth(vehicle.scriptID) <= vehicleConfig.damage.lowDevasted) {\r\n            const engineOnProbability = Calculation.probability(vehicleConfig.vehicleDamageTurnOff.percent.lowDevasted);\r\n            if (!engineOnProbability)\r\n                return;\r\n            game.setVehicleEngineOn(vehicle.scriptID, false, true, true);\r\n            return alt.emit('notify:warning', 'Silnik zgasł', 'Twój silnik jest uszkodzony, udaj się do mechanika');\r\n        }\r\n    }, 60000);\r\n};\r\n","references":["B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Configs/VehicleConfig.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Core/Utilities/Calculation.ts"]}
