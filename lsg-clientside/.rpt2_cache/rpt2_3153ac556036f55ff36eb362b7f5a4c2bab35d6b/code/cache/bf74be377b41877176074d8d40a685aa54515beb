{"code":"import * as alt from 'alt';\r\nimport * as game from 'natives';\r\nimport { Calculation } from '../../Utilities/Calculation';\r\nimport { NativeNotification } from '../../Notify/NativeNotification';\r\nimport { nativeNotificationType } from 'client/modules/Constant/Notification/NativeNotificationType';\r\nexport default async () => {\r\n    const player = alt.Player.local;\r\n    let playerInterval;\r\n    alt.onServer('player-damage:drawFall', playerDrawFall);\r\n    async function playerDrawFall() {\r\n        const probabilityOfCollapse = Calculation.probability(10);\r\n        alt.log(probabilityOfCollapse);\r\n        if (!probabilityOfCollapse)\r\n            return;\r\n        alt.log('wykonuje efekty');\r\n        NativeNotification.showNotification(null, nativeNotificationType.Normal, 0, 'Twoja postać doznała szoku', '~g~ Stan zdrowia', 'Napij się wody lub poproś, aby Cie ktoś otrząsnął', 1);\r\n        game.setCamEffect(2);\r\n        game.playSound(Number('g_42DE._f69'), 'CHARACTER_CHANGE_DPAD_DOWN_MASTER', '', true, 0, true);\r\n        const radgollInterval = alt.setInterval(() => {\r\n            game.setPedToRagdoll(alt.Player.local.scriptID, 100 * 10, 1000 * 10, 0, true, true, false);\r\n        }, 1000);\r\n        playerInterval = radgollInterval;\r\n        alt.setTimeout(() => {\r\n            characterHasBeenCalmedDown();\r\n            NativeNotification.showNotification(null, nativeNotificationType.Normal, 0, 'Twoja postać się otrząsnęla', '~g~ Stan zdrowia', 'Minął czas szoku, twoja postać doszła do siebie', 1);\r\n        }, 120000);\r\n        alt.on('player-interaction:help', async () => {\r\n            characterHasBeenCalmedDown();\r\n            NativeNotification.showNotification(null, nativeNotificationType.Normal, 0, 'Twoja postać się otrząsnęla', '~g~ Stan zdrowia', 'Ktoś pomógł Ci się otrząsnąć', 1);\r\n        });\r\n    }\r\n    async function characterHasBeenCalmedDown() {\r\n        game.clearPedTasks(player.scriptID);\r\n        alt.clearInterval(playerInterval);\r\n        alt.setTimeout(() => {\r\n            game.setCamEffect(0);\r\n        }, 5000);\r\n    }\r\n};\r\n","references":["B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Core/Utilities/Calculation.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Core/Notify/NativeNotification.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Constant/Notification/NativeNotificationType.ts"]}
