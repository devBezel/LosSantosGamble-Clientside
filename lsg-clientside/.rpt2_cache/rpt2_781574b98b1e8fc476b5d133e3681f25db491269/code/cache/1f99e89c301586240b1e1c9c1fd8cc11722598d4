{"code":"import * as alt from 'alt';\r\nimport { ServerEvent } from 'client/modules/Constant/ServerEvent';\r\nimport { CEFEvent } from 'client/modules/Constant/CEFEvent';\r\nexport default async () => {\r\n    const view = new alt.WebView('http://resource/assets/views/lsg_speedometr/index.html');\r\n    let localPlayer = alt.Player.local;\r\n    alt.setInterval(async () => {\r\n        if (!localPlayer) {\r\n            localPlayer = alt.Player.local;\r\n        }\r\n        const vehicle = localPlayer.vehicle;\r\n        if (vehicle !== null) {\r\n            view.emit(CEFEvent.CEF_SHOW_VEHICLE_SPEED, Math.ceil(vehicle.speed * 3.6));\r\n        }\r\n    }, 100);\r\n    alt.onServer(ServerEvent.PLAYER_ENTER_VEHCILE, async (seat) => {\r\n        if (seat === 1) {\r\n            view.emit(CEFEvent.CEF_SHOW_SPEEDOMETR, true);\r\n        }\r\n    });\r\n    alt.onServer(ServerEvent.PLAYER_EXIT_VEHICLE, async (seat) => {\r\n        if (seat === 1) {\r\n            view.emit(CEFEvent.CEF_SHOW_SPEEDOMETR, false);\r\n        }\r\n    });\r\n    alt.onServer(ServerEvent.PLAYER_CHANGED_VEHICLE_SEAT, async (seat) => {\r\n        if (seat === 1) {\r\n            view.emit(CEFEvent.CEF_SHOW_SPEEDOMETR, false);\r\n        }\r\n    });\r\n};\r\n","references":["B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Constant/ServerEvent.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Constant/CEFEvent.ts"]}
