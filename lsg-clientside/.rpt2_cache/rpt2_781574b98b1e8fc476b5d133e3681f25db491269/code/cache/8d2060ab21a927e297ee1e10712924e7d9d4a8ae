{"code":"import * as alt from 'alt';\r\nimport { ServerEvent } from 'client/modules/Constant/ServerEvent';\r\nimport { CEFEvent } from 'client/modules/Constant/CEFEvent';\r\nimport { ClientEvent } from 'client/modules/Constant/ClientEvent';\r\nimport { Browser } from 'client/modules/Core/Helpers/Browser';\r\nimport { Key } from 'client/modules/Constant/Keys/Key';\r\nexport default async () => {\r\n    const view = new alt.WebView('http://resource/assets/views/lsg_bank/index.html');\r\n    alt.onServer(ServerEvent.BANK_REGISTER_ACCOUNT, async (name, id) => {\r\n        alt.log('wykonało się');\r\n        Browser.browserSettings(view, true, true, false);\r\n        view.emit(CEFEvent.CEF_BANK_REGISTER_ACCOUNT, name, id);\r\n    });\r\n    view.on(CEFEvent.CEF_BANK_REGISTER_DATA, async (login, password, id) => {\r\n        alt.emitServer(ClientEvent.BANK_REGISTER_DATA, login, password, id);\r\n    });\r\n    alt.onServer(ServerEvent.BANK_ACCOUNT_REGISTERED, async () => {\r\n        view.emit(CEFEvent.CEF_BANK_ACCOUNT_REGISTERED);\r\n    });\r\n    view.on(CEFEvent.CEF_BANK_DEPOSIT_MONEY, async (money) => {\r\n        alt.emitServer(ClientEvent.BANK_DEPOSIT_MONEY, money);\r\n    });\r\n    alt.onServer(ServerEvent.BANK_OPEN_MENU, async (money) => {\r\n        view.emit(CEFEvent.CEF_BANK_OPEN_MENU, true, money);\r\n        Browser.browserSettings(view, true, true, false);\r\n    });\r\n    alt.onServer(ServerEvent.BANK_DEPOSIT_SUCCESS, async (money) => {\r\n        view.emit(CEFEvent.CEF_BANK_DEPOSIT_SUCCESS, money);\r\n    });\r\n    view.on(CEFEvent.CEF_BANK_WITHDRAW_MONEY, async (money) => {\r\n        alt.emitServer(ClientEvent.BANK_WITHDRAW_MONEY, money);\r\n    });\r\n    alt.onServer(ServerEvent.BANK_WITHDRAW_SUCCESS, async (money) => {\r\n        view.emit(CEFEvent.CEF_BANK_WITHDRAW_SUCCESS, money);\r\n    });\r\n    alt.on('keyup', async (key) => {\r\n        if (key === Key.ESCAPE) {\r\n            view.emit(CEFEvent.CEF_BANK_OPEN_MENU, false);\r\n            Browser.browserSettings(view, false, false, true);\r\n        }\r\n    });\r\n};\r\n","references":["B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Constant/ServerEvent.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Constant/CEFEvent.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Constant/ClientEvent.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Core/Helpers/Browser.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Constant/Keys/Key.ts"]}
