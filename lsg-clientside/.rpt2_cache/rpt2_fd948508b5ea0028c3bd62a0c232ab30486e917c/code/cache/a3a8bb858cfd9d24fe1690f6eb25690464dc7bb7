{"code":"import * as alt from 'alt';\r\nimport * as game from 'natives';\r\nexport class Animation {\r\n    constructor(animDic, animation, time, animFlag = 1) {\r\n        this.animDict = animDic;\r\n        this.animation = animation;\r\n        this.timeAnim = time;\r\n        this.animFlag = animFlag;\r\n    }\r\n    loadAnimDictAsync() {\r\n        return new Promise((resolve, reject) => {\r\n            if (!game.doesAnimDictExist(this.animDict)) {\r\n                alt.log('dict nie istnieje');\r\n                return resolve(false);\r\n            }\r\n            if (game.hasAnimDictLoaded(this.animDict)) {\r\n                alt.log('dict jest juz zaladowany');\r\n                return resolve(true);\r\n            }\r\n            game.requestAnimDict(this.animDict);\r\n            const interval = alt.setInterval(() => {\r\n                if (game.hasAnimDictLoaded(this.animDict)) {\r\n                    alt.log('zaladowano');\r\n                    alt.clearInterval(interval);\r\n                    return resolve(true);\r\n                }\r\n            }, 0);\r\n        });\r\n    }\r\n    playAnim() {\r\n        if (game.hasAnimDictLoaded(this.animDict)) {\r\n            game.taskPlayAnim(alt.Player.local.scriptID, this.animDict, this.animation, 8.0, 1.0, -1, this.animFlag, 1, false, false, false);\r\n            alt.log('probuje wykonac animacje');\r\n            if (this.timeAnim !== -1) {\r\n                alt.setTimeout(() => {\r\n                    game.clearPedTasks(alt.Player.local.scriptID);\r\n                    game.stopAnimTask(alt.Player.local.scriptID, this.animDict, this.animation, 0);\r\n                }, this.timeAnim);\r\n            }\r\n        }\r\n    }\r\n}\r\n","references":[]}
