{"code":"import * as alt from 'alt';\r\nimport * as game from 'natives';\r\nimport { View } from '../Utilities/View';\r\nimport { Camera } from '../Utilities/Camera';\r\nexport default async () => {\r\n    let webView;\r\n    let loginCamera = new Camera(3331.6, 5222.5, 23, 10);\r\n    const url = 'http://localhost:4000/login';\r\n    const cameraPosition = {\r\n        x: -1420.42,\r\n        y: 6755.83,\r\n        z: 5.87549,\r\n    };\r\n    const spawnCustomizationCharacter = {\r\n        x: -1418.41,\r\n        y: 6754.63,\r\n        z: 4.87549,\r\n    };\r\n    alt.onServer('other:first-connect', showLoginWindow);\r\n    alt.onServer('character:wearClothes', wearCharacterClothes);\r\n    async function showLoginWindow() {\r\n        if (!webView) {\r\n            webView = new View();\r\n        }\r\n        if (alt.Player.local.getMeta('viewOpen'))\r\n            return;\r\n        webView.open(url, true);\r\n        webView.on('cef:character-selected', characterDetails);\r\n        loginCamera.pointAtCoord(3331.6, 5222.5, 23);\r\n    }\r\n    async function characterDetails(character) {\r\n        alt.Player.local.setMeta('character:data', character);\r\n        webView.close();\r\n        alt.emitServer('login:characterDetail', JSON.stringify(character));\r\n    }\r\n    async function wearCharacterClothes(characterLook) {\r\n        if (characterLook === null || characterLook === undefined || characterLook.characterId === 0) {\r\n            game.freezeEntityPosition(alt.Player.local.scriptID, true);\r\n            game.setEntityCoords(alt.Player.local.scriptID, spawnCustomizationCharacter.x, spawnCustomizationCharacter.y, spawnCustomizationCharacter.z, false, false, false, false);\r\n            game.setEntityHeading(alt.Player.local.scriptID, 60);\r\n            if (!loginCamera) {\r\n                loginCamera = new Camera(-1420.18, 6754.73, 5.87549, 0);\r\n            }\r\n            loginCamera.position(cameraPosition);\r\n            loginCamera.fov(70);\r\n            return alt.emit('character:showCreateCharacterWindow');\r\n        }\r\n        loginCamera.destroy();\r\n        return alt.emit('character:wearClothes', characterLook);\r\n    }\r\n};\r\n","references":["B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Core/Utilities/View.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Models/character.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Models/characterLook.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Core/Utilities/Camera.ts"]}
