{"code":"import * as alt from 'alt';\r\nimport * as game from 'natives';\r\nimport { Calculation } from '../Utilities/Calculation';\r\nimport { Key } from 'client/modules/Constant/Keys/Key';\r\nimport { Draw } from '../Utilities/Draw';\r\nimport { Controls } from '../Utilities/Controls';\r\nexport var EntityType;\r\n(function (EntityType) {\r\n    EntityType[EntityType[\"noEntity\"] = 0] = \"noEntity\";\r\n    EntityType[EntityType[\"ped\"] = 1] = \"ped\";\r\n    EntityType[EntityType[\"vehicle\"] = 2] = \"vehicle\";\r\n    EntityType[EntityType[\"object\"] = 3] = \"object\";\r\n})(EntityType || (EntityType = {}));\r\nexport default async () => {\r\n    let openMouse = false;\r\n    const player = alt.Player.local;\r\n    let drawLineInterval;\r\n    alt.on('keyup', (key) => {\r\n        if (key === Key.ALT) {\r\n            if (player.getMeta('viewOpen'))\r\n                return;\r\n            if (openMouse) {\r\n                return disposeInteraction2D();\r\n            }\r\n            openMouse = true;\r\n            alt.showCursor(true);\r\n            drawLineInterval = alt.setInterval(() => {\r\n                Controls.disableControls();\r\n                let drawLineColor = { r: 188, g: 0, b: 0, a: 255 };\r\n                Calculation.screen2dToWorld3dPosition(alt.getCursorPos().x, alt.getCursorPos().y, -1, player.scriptID, (result) => {\r\n                    const interactObjectPos = result[2];\r\n                    const interactObject = result[4];\r\n                    if (isInteractObject(interactObject)) {\r\n                        drawLineColor = { r: 0, g: 131, b: 13, a: 255 };\r\n                        if (game.isControlJustReleased(0, 24)) {\r\n                            if (Calculation.isPlayerInRange(player.pos, interactObjectPos, 4)) {\r\n                                interactObjectAction(interactObject);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (!Calculation.isPlayerInRange(player.pos, interactObjectPos, 4)) {\r\n                        Draw.draw3dText(interactObjectPos.x, interactObjectPos.y, interactObjectPos.z, 'Jeste≈õ zbyt daleko');\r\n                    }\r\n                    game.drawLine(interactObjectPos.x, interactObjectPos.y, interactObjectPos.z, player.pos.x, player.pos.y, player.pos.z, drawLineColor.r, drawLineColor.g, drawLineColor.b, drawLineColor.a);\r\n                });\r\n            }, 0);\r\n        }\r\n    });\r\n    function isInteractObject(entity) {\r\n        if (game.getEntityType(entity) === 0) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    function interactObjectAction(entity) {\r\n        const interactObjectType = game.getEntityType(entity);\r\n        switch (interactObjectType) {\r\n            case EntityType.vehicle:\r\n                disposeInteraction2D();\r\n                alt.emit('interaction2D:vehicle', entity);\r\n                break;\r\n            case EntityType.object:\r\n                disposeInteraction2D();\r\n                alt.emit('interaction2D:object', entity);\r\n            case EntityType.ped:\r\n                alt.log('Interakcja z graczem');\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    function disposeInteraction2D() {\r\n        openMouse = false;\r\n        alt.clearInterval(drawLineInterval);\r\n        alt.showCursor(false);\r\n    }\r\n};\r\n","references":["B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Core/Utilities/Calculation.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Constant/Keys/Key.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Core/Utilities/Draw.ts","B:/Projekty/LSGamble-Clientside/lsg-clientside/modules/Core/Utilities/Controls.ts"]}
